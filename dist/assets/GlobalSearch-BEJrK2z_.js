import{c as L,r as l,aS as j,aT as z,j as e,D as I,f as F,g as R,h as q,i as P,S as f,t as K,l as N,a7 as $,u as G,B as u,s as U,af as V,aU as X,aV as J}from"./index-B0KDE8pz.js";import{S as Q}from"./scroll-area-BWfeK-bJ.js";import{C as v}from"./clock-7gicNhvX.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);function ee({isOpen:c,onClose:x,onNavigate:k,onSearch:p,totalIndexedItems:S}){const[t,i]=l.useState(""),[d,g]=l.useState([]),[m,o]=l.useState(0),y=l.useRef(null);l.useEffect(()=>{c&&(g(j()),i(""),o(0),setTimeout(()=>{var s;return(s=y.current)==null?void 0:s.focus()},50))},[c]);const n=l.useMemo(()=>t.trim()?p(t):[],[t,p]),A=l.useMemo(()=>z(n),[n]),h=l.useMemo(()=>n.length>0?n:d.map((s,a)=>({id:`history-${a}`,query:s})),[n,d]);l.useEffect(()=>{const s=a=>{if(c)switch(a.key){case"ArrowDown":a.preventDefault(),o(r=>Math.min(r+1,h.length-1));break;case"ArrowUp":a.preventDefault(),o(r=>Math.max(r-1,0));break;case"Enter":if(a.preventDefault(),h.length>0){const r=h[m];"query"in r?i(r.query):b(r)}break;case"Escape":a.preventDefault(),x();break}};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[c,h,m,x]),l.useEffect(()=>{o(0)},[n]);const b=s=>{X(t),g(j()),k(s.moduleLink,s.id),x()},C=s=>{i(s)},E=()=>{J(),g([])},B=s=>{const a="h-4 w-4";switch(s){case"MÃ¼ÅŸteri":return e.jsx("span",{className:a,children:"ðŸ‘¤"});case"Banka/PF":return e.jsx("span",{className:a,children:"ðŸ¦"});case"ÃœrÃ¼n":return e.jsx("span",{className:a,children:"ðŸ“¦"});case"TABELA":return e.jsx("span",{className:a,children:"ðŸ“‹"});case"HakediÅŸ":return e.jsx("span",{className:a,children:"ðŸ’°"});case"SatÄ±ÅŸ Temsilcisi":return e.jsx("span",{className:a,children:"ðŸ‘”"});default:return null}},D=s=>{switch(s){case"MÃ¼ÅŸteri":return"bg-blue-100 text-blue-700 border-blue-200";case"Banka/PF":return"bg-green-100 text-green-700 border-green-200";case"ÃœrÃ¼n":return"bg-purple-100 text-purple-700 border-purple-200";case"TABELA":return"bg-orange-100 text-orange-700 border-orange-200";case"HakediÅŸ":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"SatÄ±ÅŸ Temsilcisi":return"bg-pink-100 text-pink-700 border-pink-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return e.jsx(I,{open:c,onOpenChange:x,children:e.jsxs(F,{className:"max-w-3xl p-0 gap-0 max-h-[80vh] flex flex-col",children:[e.jsxs(R,{className:"px-4 pt-4 pb-3 border-b",children:[e.jsx(q,{className:"sr-only",children:"Global Arama"}),e.jsx(P,{className:"sr-only",children:"MÃ¼ÅŸteri, Banka/PF, ÃœrÃ¼n, TABELA ve diÄŸer kayÄ±tlarda arama yapÄ±n"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{className:"h-5 w-5 text-gray-400"}),e.jsx(K,{ref:y,type:"text",placeholder:"MÃ¼ÅŸteri, Banka/PF, ÃœrÃ¼n, TABELA ara... (Ctrl+K)",value:t,onChange:s=>i(s.target.value),className:"border-0 shadow-none focus-visible:ring-0 p-0 h-8 text-base",autoComplete:"off"}),t&&e.jsx(N,{variant:"ghost",size:"sm",onClick:()=>i(""),className:"h-6 w-6 p-0 hover:bg-gray-100 rounded-full",children:e.jsx($,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),e.jsxs("span",{children:[S.toLocaleString("tr-TR")," kayÄ±t indekslendi"]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 border border-gray-300 rounded text-[10px]",children:"â†‘â†“"}),e.jsx("span",{children:"Gezin"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 border border-gray-300 rounded text-[10px]",children:"Enter"}),e.jsx("span",{children:"SeÃ§"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 border border-gray-300 rounded text-[10px]",children:"Esc"}),e.jsx("span",{children:"Kapat"})]})]})]}),e.jsx(Q,{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"p-4 space-y-4",children:[t.trim()&&n.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[n.length," sonuÃ§ bulundu"]})}),Array.from(A.entries()).map(([s,a])=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[B(s),e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:s}),e.jsx(u,{variant:"outline",className:"text-xs",children:a.length})]}),e.jsxs("div",{className:"space-y-1",children:[a.slice(0,5).map((r,W)=>{const T=n.indexOf(r)===m;return e.jsx("button",{onClick:()=>b(r),className:`w-full text-left px-3 py-2.5 rounded-lg border transition-all ${T?"bg-blue-50 border-blue-200 shadow-sm":"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:r.title}),e.jsx(u,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${D(r.category)}`,children:r.category})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-0.5",children:r.subtitle}),r.metadata&&e.jsx("div",{className:"flex items-center gap-2 mt-1",children:Object.entries(r.metadata).slice(0,2).map(([M,H])=>e.jsx("span",{className:"text-[10px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded",children:String(H)},M))})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs(u,{variant:"secondary",className:"text-[10px] px-1.5 py-0",children:["%",Math.round(r.score)]}),e.jsx(w,{className:"h-4 w-4 text-gray-400"})]})]})},r.id)}),a.length>5&&e.jsxs("p",{className:"text-xs text-gray-400 text-center py-2",children:["+",a.length-5," sonuÃ§ daha..."]})]})]},s))]}),t.trim()&&n.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:e.jsx(f,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"SonuÃ§ bulunamadÄ±"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["â€œ",t,"â€ iÃ§in hiÃ§bir kayÄ±t bulunamadÄ±."]}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"FarklÄ± anahtar kelimeler veya daha kÄ±sa terimler deneyin."})]}),!t.trim()&&d.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4 text-gray-400"}),e.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Son Aramalar"})]}),e.jsxs(N,{variant:"ghost",size:"sm",onClick:E,className:"h-7 text-xs text-gray-500 hover:text-red-600",children:[e.jsx(U,{className:"h-3 w-3 mr-1"}),"Temizle"]})]}),e.jsx("div",{className:"space-y-1",children:d.map((s,a)=>e.jsx("button",{onClick:()=>C(s),className:`w-full text-left px-3 py-2 rounded-lg border transition-all ${a===m&&n.length===0?"bg-blue-50 border-blue-200":"bg-white border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-3.5 w-3.5 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-700",children:s})]}),e.jsx(w,{className:"h-4 w-4 text-gray-300"})]})},a))})]}),!t.trim()&&d.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-50 to-purple-50 rounded-full mb-4",children:e.jsx(V,{className:"h-8 w-8 text-blue-500"})}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"HÄ±zlÄ± Arama"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mx-auto",children:"MÃ¼ÅŸteri, Banka/PF, ÃœrÃ¼n, TABELA ve diÄŸer kayÄ±tlarda hÄ±zlÄ± arama yapÄ±n."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-xs text-gray-400",children:[e.jsx("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded",children:"Ctrl"}),e.jsx("span",{children:"+"}),e.jsx("kbd",{className:"px-2 py-1 bg-gray-100 border border-gray-300 rounded",children:"K"}),e.jsx("span",{children:"ile her yerden aÃ§abilirsiniz"})]})]})]})})]})})}export{ee as GlobalSearch};
