import{c as Ne,r as d,j as e,C as g,a as P,b as L,w as K,l as u,G as be,a8 as Se,d as f,e as G,B as w,S as Q,t as ve,s as ee,H as Te,J as Me,K as se,M as o,N as ke,O as x,a2 as Ce,a3 as De,a4 as Ae,D as we,f as Ie,g as ze,h as Pe,i as Le,a9 as ae,aa as le,k as Ee,y as p,R as Fe,m as Oe,n as Ve,o as ie,ah as te,p as ne}from"./index-B0KDE8pz.js";import{P as Be}from"./progress-BDUzr-gD.js";import{utils as V,writeFile as He,read as Re}from"./xlsx-D_0l8YDs.js";import{a as $e}from"./ColumnVisibilityDropdown-ByH42Kf_.js";import{M as _e}from"./monitor-Dbl9eXY6.js";import{C as re}from"./circle-x-CYTj_F-g.js";import{C as ce}from"./circle-alert-BColZMCl.js";import{F as de}from"./file-spreadsheet-CfN0RQj_.js";import"./scroll-area-BWfeK-bJ.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),Je=["Serial number","Name","TID","Domain","Firmware","SAM 1","SAM 2","SAM 3","SIM","Terminal type","Online status","Sync status","Terminal model","MAC address","PTID"],Ge=[{key:"serialNumber",label:"Serial Number",defaultVisible:!0},{key:"name",label:"Name",defaultVisible:!0},{key:"tid",label:"TID",defaultVisible:!0},{key:"domain",label:"Domain",defaultVisible:!0},{key:"firmware",label:"Firmware",defaultVisible:!0},{key:"sam1",label:"SAM 1",defaultVisible:!1},{key:"sam2",label:"SAM 2",defaultVisible:!1},{key:"sam3",label:"SAM 3",defaultVisible:!1},{key:"sim",label:"SIM",defaultVisible:!1},{key:"terminalType",label:"Terminal Type",defaultVisible:!0},{key:"onlineStatus",label:"Online Status",defaultVisible:!0},{key:"syncStatus",label:"Sync Status",defaultVisible:!0},{key:"terminalModel",label:"Model",defaultVisible:!0},{key:"macAddress",label:"MAC Address",defaultVisible:!1},{key:"ptid",label:"PTID",defaultVisible:!1}];function Ke({products:r,onProductsChange:I,customers:M=[]}){const[k,B]=d.useState(""),[H,E]=d.useState(!1),[R,U]=d.useState(!1),[X,C]=d.useState(0),[D,F]=d.useState(null),$=d.useRef(null),[t,me]=d.useState({}),[c,A]=d.useState(1),j=50,q=d.useMemo(()=>{const s=new Map;return r.forEach(a=>{var n;const l=((n=a.terminalModel)==null?void 0:n.trim())||"BelirtilmemiÅŸ";s.set(l,(s.get(l)||0)+1)}),Array.from(s.entries()).map(([a,l])=>({model:a,count:l})).sort((a,l)=>l.count-a.count)},[r]),W=d.useMemo(()=>{const s=new Map;return r.forEach(a=>{var n;const l=((n=a.terminalType)==null?void 0:n.trim())||"BelirtilmemiÅŸ";s.set(l,(s.get(l)||0)+1)}),Array.from(s.entries()).map(([a,l])=>({type:a,count:l})).sort((a,l)=>l.count-a.count)},[r]),N=d.useMemo(()=>{const s=new Set;M.forEach(n=>{n.bankDeviceAssignments&&n.bankDeviceAssignments.forEach(h=>{h.deviceIds.forEach(T=>{s.add(T)})})});const a=r.filter(n=>s.has(n.id)).length,l=r.length-a;return{withTID:a,withoutTID:l,total:r.length}},[r,M]),oe=()=>{try{const s=[{"Serial number":"SN001",Name:"Terminal 1",TID:"TID001",Domain:"domain.example.com",Firmware:"v1.0.0","SAM 1":"SAM001","SAM 2":"SAM002","SAM 3":"",SIM:"1234567890","Terminal type":"POS","Online status":"Online","Sync status":"Synced","Terminal model":"Model A","MAC address":"00:11:22:33:44:55",PTID:"PTID001"},{"Serial number":"SN002",Name:"Terminal 2",TID:"TID002",Domain:"domain2.example.com",Firmware:"v1.0.1","SAM 1":"SAM003","SAM 2":"","SAM 3":"",SIM:"0987654321","Terminal type":"mPOS","Online status":"Offline","Sync status":"Pending","Terminal model":"Model B","MAC address":"AA:BB:CC:DD:EE:FF",PTID:"PTID002"}],a=V.json_to_sheet(s),l=V.book_new();V.book_append_sheet(l,a,"Payter Products");const n=Je.map(h=>({wch:Math.max(h.length,15)}));a["!cols"]=n,He(l,"payter-products-template.xlsx"),p.success("Excel ÅŸablonu indirildi!")}catch(s){console.error("Åablon indirme hatasÄ±:",s),p.error("Åablon indirilirken hata oluÅŸtu!")}},xe=async s=>{var l;const a=(l=s.target.files)==null?void 0:l[0];if(a){U(!0),C(10),F(null);try{const n=await a.arrayBuffer();C(30);const h=Re(n),T=h.SheetNames[0],ge=h.Sheets[T];C(50);const ye=V.sheet_to_json(ge);C(70);const z=[],b=[];if(ye.forEach((i,J)=>{const pe=J+2;if(Object.values(i).some(S=>S!=null&&String(S).trim()!==""))try{const S={id:Date.now().toString()+Math.random().toString(36).substr(2,9),serialNumber:String(i["Serial number"]||"").trim(),name:String(i.Name||"").trim(),tid:String(i.TID||"").trim(),domain:i.Domain?String(i.Domain).trim():void 0,firmware:i.Firmware?String(i.Firmware).trim():void 0,sam1:i["SAM 1"]?String(i["SAM 1"]).trim():void 0,sam2:i["SAM 2"]?String(i["SAM 2"]).trim():void 0,sam3:i["SAM 3"]?String(i["SAM 3"]).trim():void 0,sim:i.SIM?String(i.SIM).trim():void 0,terminalType:i["Terminal type"]?String(i["Terminal type"]).trim():void 0,onlineStatus:i["Online status"]?String(i["Online status"]).trim():void 0,syncStatus:i["Sync status"]?String(i["Sync status"]).trim():void 0,terminalModel:i["Terminal model"]?String(i["Terminal model"]).trim():void 0,macAddress:i["MAC address"]?String(i["MAC address"]).trim():void 0,ptid:i.PTID?String(i.PTID).trim():void 0};b.push(S)}catch(S){z.push(`SatÄ±r ${pe}: Veri iÅŸlenirken hata - ${S instanceof Error?S.message:"Bilinmeyen hata"}`)}}),C(90),b.length>0){const i=[...r,...b];try{localStorage.setItem("payterProducts",JSON.stringify(i)),console.log(`âœ… ${b.length} Ã¼rÃ¼n localStorage'a kaydedildi`)}catch(J){console.error("âŒ localStorage kaydetme hatasÄ±:",J),p.error("ÃœrÃ¼nler kaydedilemedi! LocalStorage dolu olabilir.")}I(i)}C(100);const fe={success:b.length,failed:z.length,errors:z.slice(0,10)};F(fe),z.length===0?(p.success(`${b.length} Ã¼rÃ¼n baÅŸarÄ±yla yÃ¼klendi ve kaydedildi!`),A(1),setTimeout(()=>{E(!1),F(null)},2e3)):b.length>0?(p.warning(`${b.length} Ã¼rÃ¼n yÃ¼klendi ve kaydedildi, ${z.length} hata oluÅŸtu`),A(1)):p.error("HiÃ§bir Ã¼rÃ¼n yÃ¼klenemedi!")}catch(n){console.error("Import hatasÄ±:",n),p.error(`Dosya okunamadÄ±!
${n instanceof Error?n.message:"Bilinmeyen hata"}`),F({success:0,failed:1,errors:[n instanceof Error?n.message:"Bilinmeyen hata"]})}finally{U(!1),$.current&&($.current.value="")}}},O=d.useCallback(s=>{if(!s||s.length===0)return[];const a=[];return s.forEach(l=>{l.name&&a.push(l.name.toLowerCase()),l.children&&l.children.length>0&&a.push(...O(l.children))}),a},[]),_=d.useCallback(s=>s?s.toLowerCase().trim().replace(/^https?:\/\//,"").replace(/\/$/,""):"",[]),Y=d.useMemo(()=>{const s=new Map;return M.forEach(a=>{const l=a.domain||a.guncelMyPayterDomain;if(l){const n=_(l),h=[n];a.domainHierarchy&&a.domainHierarchy.length>0&&h.push(...O(a.domainHierarchy)),a.ignoreMainDomain||s.set(n,{customer:a,cariAdi:a.cariAdi.toLowerCase(),allDomains:h}),a.domainHierarchy&&a.domainHierarchy.length>0&&O(a.domainHierarchy).forEach(T=>{s.set(T,{customer:a,cariAdi:a.cariAdi.toLowerCase(),allDomains:h})})}}),s},[M,O,_]),m=d.useMemo(()=>{if(!k.trim())return r;const s=k.toLowerCase();return r.filter(a=>{if(a.serialNumber.toLowerCase().includes(s)||a.name.toLowerCase().includes(s)||a.tid.toLowerCase().includes(s)||a.terminalModel&&a.terminalModel.toLowerCase().includes(s))return!0;if(a.domain){const n=a.domain.toLowerCase();if(n.includes(s))return!0;const h=Y.get(n);if(h&&(h.cariAdi.includes(s)||h.allDomains.some(T=>T.includes(s))))return!0}return!1})},[r,k,Y]),y=Math.ceil(m.length/j),Z=d.useMemo(()=>{const s=(c-1)*j,a=s+j;return m.slice(s,a)},[m,c,j]),v=s=>{A(s),window.scrollTo({top:0,behavior:"smooth"})},he=s=>{if(confirm("Bu Ã¼rÃ¼nÃ¼ silmek istediÄŸinizden emin misiniz?")){const a=r.filter(l=>l.id!==s);try{localStorage.setItem("payterProducts",JSON.stringify(a)),console.log("âœ… ÃœrÃ¼n silindi ve localStorage gÃ¼ncellendi")}catch(l){console.error("âŒ localStorage kaydetme hatasÄ±:",l)}I(a),p.success("ÃœrÃ¼n silindi"),Z.length===1&&c>1&&A(c-1)}},je=()=>{if(confirm(`${r.length} Ã¼rÃ¼nÃ¼n tÃ¼mÃ¼nÃ¼ silmek istediÄŸinizden emin misiniz?`)){try{localStorage.setItem("payterProducts",JSON.stringify([])),console.log("âœ… TÃ¼m Ã¼rÃ¼nler silindi ve localStorage temizlendi")}catch(s){console.error("âŒ localStorage kaydetme hatasÄ±:",s)}I([]),p.success("TÃ¼m Ã¼rÃ¼nler silindi"),A(1)}},ue=d.useCallback(s=>{me(s)},[]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{children:e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(L,{children:"Payter ÃœrÃ¼n YÃ¶netimi"}),e.jsx(K,{children:"Terminal ve cihaz listelerini Excel ile yÃ¼kleyin ve yÃ¶netin"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:oe,children:[e.jsx(be,{size:16,className:"mr-2"}),"Excel Åablon Ä°ndir"]}),e.jsxs(u,{variant:"default",size:"sm",onClick:()=>E(!0),children:[e.jsx(Se,{size:16,className:"mr-2"}),"Excel'den YÃ¼kle"]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Toplam ÃœrÃ¼n"}),e.jsx("h3",{className:"text-blue-600 mt-1",children:r.length})]}),e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(_e,{className:"text-blue-600",size:24})})]})})}),e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Online"}),e.jsx("h3",{className:"text-green-600 mt-1",children:r.filter(s=>{var a;return((a=s.onlineStatus)==null?void 0:a.toLowerCase())==="online"}).length})]}),e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(G,{className:"text-green-600",size:24})})]})})}),e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Offline"}),e.jsx("h3",{className:"text-red-600 mt-1",children:r.filter(s=>{var a;return((a=s.onlineStatus)==null?void 0:a.toLowerCase())==="offline"}).length})]}),e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(re,{className:"text-red-600",size:24})})]})})}),e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sync Pending"}),e.jsx("h3",{className:"text-orange-600 mt-1",children:r.filter(s=>{var a;return((a=s.syncStatus)==null?void 0:a.toLowerCase())==="pending"}).length})]}),e.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:e.jsx(ce,{className:"text-orange-600",size:24})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Bankaya TanÄ±mlÄ± Cihaz"}),e.jsxs("h3",{className:"text-emerald-600 mt-1",children:[N.withTID,e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",N.total>0?(N.withTID/N.total*100).toFixed(1):0,"%)"]})]})]}),e.jsx("div",{className:"p-3 bg-emerald-100 rounded-lg",children:e.jsx(G,{className:"text-emerald-600",size:24})})]})})}),e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Banka TanÄ±msÄ±z Cihaz"}),e.jsxs("h3",{className:"text-amber-600 mt-1",children:[N.withoutTID,e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",N.total>0?(N.withoutTID/N.total*100).toFixed(1):0,"%)"]})]})]}),e.jsx("div",{className:"p-3 bg-amber-100 rounded-lg",children:e.jsx(ce,{className:"text-amber-600",size:24})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(g,{children:[e.jsx(P,{className:"pb-3",children:e.jsx(L,{className:"text-sm",children:"Terminal Type DaÄŸÄ±lÄ±mÄ±"})}),e.jsx(f,{children:W.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Terminal type bilgisi bulunamadÄ±"}):e.jsx("div",{className:"space-y-3",children:W.map(({type:s,count:a})=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(w,{variant:"outline",className:"min-w-[120px] justify-start",children:s})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${a/r.length*100}%`}})}),e.jsxs("span",{className:"text-sm tabular-nums text-blue-600 min-w-[60px] text-right",children:[a," adet"]})]})]},s))})})]}),e.jsxs(g,{children:[e.jsx(P,{className:"pb-3",children:e.jsx(L,{className:"text-sm",children:"Terminal Model DaÄŸÄ±lÄ±mÄ±"})}),e.jsx(f,{children:q.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Model bilgisi bulunamadÄ±"}):e.jsx("div",{className:"space-y-3",children:q.map(({model:s,count:a})=>e.jsxs("div",{className:"flex items-center justify-between p-2 rounded",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(w,{variant:"outline",className:"min-w-[120px] justify-start",children:s})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all",style:{width:`${a/r.length*100}%`}})}),e.jsxs("span",{className:"text-sm tabular-nums text-purple-600 min-w-[60px] text-right",children:[a," adet"]})]})]},s))})})]})]}),e.jsx(g,{children:e.jsx(f,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),e.jsx(ve,{id:"payter-product-search",placeholder:"Serial number, name, TID, model, domain, cari adÄ± veya alt domain ile ara...",value:k,onChange:s=>{B(s.target.value),A(1)},className:"pl-10"})]}),e.jsx($e,{columns:Ge,storageKey:"payterProducts",onVisibilityChange:ue}),r.length>0&&e.jsxs(u,{variant:"outline",size:"sm",onClick:je,children:[e.jsx(ee,{size:16,className:"mr-2"}),"TÃ¼mÃ¼nÃ¼ Temizle"]})]})})}),e.jsxs(g,{children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(L,{children:["ÃœrÃ¼n Listesi",m.length!==r.length&&e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",m.length," / ",r.length,")"]})]}),e.jsx(K,{className:"mt-1",children:m.length>0&&e.jsxs(e.Fragment,{children:["Toplam ",m.length.toLocaleString("tr-TR")," Ã¼rÃ¼n",m.length>j&&e.jsxs(e.Fragment,{children:[" â€¢ ","Sayfa ",c," / ",y," â€¢ ",(c-1)*j+1,"-",Math.min(c*j,m.length)," arasÄ± gÃ¶steriliyor"]})]})})]}),m.length>j&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:"outline",size:"sm",onClick:()=>v(c-1),disabled:c===1,children:"â† Ã–nceki"}),e.jsx("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-100 rounded-md",children:e.jsxs("span",{className:"text-sm text-gray-700 font-medium",children:[c," / ",y]})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>v(c+1),disabled:c===y,children:"Sonraki â†’"})]})]})}),e.jsxs(f,{children:[r.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(de,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"HenÃ¼z Ã¼rÃ¼n eklenmedi"}),e.jsx("p",{className:"text-sm mt-2",children:"Excel ÅŸablonunu indirin ve Ã¼rÃ¼nlerinizi yÃ¼kleyin"})]}):m.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Q,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("p",{children:"Arama sonucu bulunamadÄ±"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Te,{children:[e.jsx(Me,{children:e.jsxs(se,{children:[t.serialNumber!==!1&&e.jsx(o,{children:"Serial Number"}),t.name!==!1&&e.jsx(o,{children:"Name"}),t.tid!==!1&&e.jsx(o,{children:"TID"}),t.domain!==!1&&e.jsx(o,{children:"Domain / Cari AdÄ±"}),t.firmware!==!1&&e.jsx(o,{children:"Firmware"}),t.sam1!==!1&&e.jsx(o,{children:"SAM 1"}),t.sam2!==!1&&e.jsx(o,{children:"SAM 2"}),t.sam3!==!1&&e.jsx(o,{children:"SAM 3"}),t.sim!==!1&&e.jsx(o,{children:"SIM"}),t.terminalType!==!1&&e.jsx(o,{children:"Terminal Type"}),t.onlineStatus!==!1&&e.jsx(o,{children:"Online Status"}),t.syncStatus!==!1&&e.jsx(o,{children:"Sync Status"}),t.terminalModel!==!1&&e.jsx(o,{children:"Model"}),t.macAddress!==!1&&e.jsx(o,{children:"MAC Address"}),t.ptid!==!1&&e.jsx(o,{children:"PTID"}),e.jsx(o,{className:"text-center",children:"Ä°ÅŸlem"})]})}),e.jsx(ke,{children:Z.map(s=>e.jsxs(se,{children:[t.serialNumber!==!1&&e.jsx(x,{children:e.jsx("span",{className:"font-mono text-sm",children:s.serialNumber})}),t.name!==!1&&e.jsx(x,{children:s.name}),t.tid!==!1&&e.jsx(x,{children:e.jsx("span",{className:"font-mono text-sm",children:s.tid})}),t.domain!==!1&&e.jsx(x,{children:s.domain?e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-sm block",children:s.domain}),(()=>{const a=_(s.domain),l=Y.get(a);return l?e.jsxs(Ce,{children:[e.jsx(De,{asChild:!0,children:e.jsx(w,{variant:"outline",className:"text-xs cursor-help",children:l.customer.cariAdi})}),e.jsx(Ae,{className:"max-w-xs",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"MÃ¼ÅŸteri Bilgisi"}),e.jsxs("p",{className:"text-xs",children:['Bu cihaz "',l.customer.cariAdi,'" mÃ¼ÅŸterisine ait']}),e.jsxs("p",{className:"text-xs opacity-75",children:["Domain: ",s.domain]}),l.customer.ignoreMainDomain&&e.jsx("p",{className:"text-xs text-amber-600",children:"â„¹ï¸ Alt domain eÅŸleÅŸtirmesi aktif"})]})})]}):null})()]}):e.jsx("span",{className:"text-gray-400",children:"-"})}),t.firmware!==!1&&e.jsx(x,{children:s.firmware?e.jsx("span",{className:"text-sm text-gray-600",children:s.firmware}):e.jsx("span",{className:"text-gray-400",children:"-"})}),t.sam1!==!1&&e.jsx(x,{children:e.jsx("span",{className:"text-sm",children:s.sam1||"-"})}),t.sam2!==!1&&e.jsx(x,{children:e.jsx("span",{className:"text-sm",children:s.sam2||"-"})}),t.sam3!==!1&&e.jsx(x,{children:e.jsx("span",{className:"text-sm",children:s.sam3||"-"})}),t.sim!==!1&&e.jsx(x,{children:e.jsx("span",{className:"text-sm",children:s.sim||"-"})}),t.terminalType!==!1&&e.jsx(x,{children:s.terminalType?e.jsx(w,{variant:"outline",children:s.terminalType}):e.jsx("span",{className:"text-gray-400",children:"-"})}),t.onlineStatus!==!1&&e.jsx(x,{children:s.onlineStatus?e.jsx(w,{variant:s.onlineStatus.toLowerCase()==="online"?"default":"secondary",children:s.onlineStatus}):e.jsx("span",{className:"text-gray-400",children:"-"})}),t.syncStatus!==!1&&e.jsx(x,{children:s.syncStatus?e.jsx(w,{variant:s.syncStatus.toLowerCase()==="synced"?"default":s.syncStatus.toLowerCase()==="pending"?"secondary":"outline",children:s.syncStatus}):e.jsx("span",{className:"text-gray-400",children:"-"})}),t.terminalModel!==!1&&e.jsx(x,{children:s.terminalModel||"-"}),t.macAddress!==!1&&e.jsx(x,{children:e.jsx("span",{className:"font-mono text-sm",children:s.macAddress||"-"})}),t.ptid!==!1&&e.jsx(x,{children:e.jsx("span",{className:"text-sm",children:s.ptid||"-"})}),e.jsx(x,{className:"text-center",children:e.jsx(u,{variant:"ghost",size:"sm",onClick:()=>he(s.id),children:e.jsx(ee,{size:16,className:"text-red-600"})})})]},s.id))})]})}),m.length>0&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[e.jsx("div",{className:"text-sm text-gray-600",children:m.length>j?e.jsxs(e.Fragment,{children:["Toplam ",e.jsx("span",{className:"font-semibold text-blue-600",children:m.length.toLocaleString("tr-TR")})," Ã¼rÃ¼n"," â€¢ ","Sayfa ",e.jsx("span",{className:"font-semibold",children:c})," / ",e.jsx("span",{className:"font-semibold",children:y}),e.jsxs("span",{className:"ml-2 text-gray-500",children:["(",(c-1)*j+1,"-",Math.min(c*j,m.length).toLocaleString("tr-TR")," arasÄ± gÃ¶steriliyor)"]})]}):e.jsxs(e.Fragment,{children:["Toplam ",e.jsx("span",{className:"font-semibold text-blue-600",children:m.length.toLocaleString("tr-TR")})," Ã¼rÃ¼n gÃ¶steriliyor"]})}),m.length>j&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{variant:"outline",size:"sm",onClick:()=>v(1),disabled:c===1,title:"Ä°lk sayfaya git",children:"â® Ä°lk"}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>v(c-1),disabled:c===1,children:"â† Ã–nceki"}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(7,y)},(s,a)=>{let l;return y<=7||c<=4?l=a+1:c>=y-3?l=y-6+a:l=c-3+a,e.jsx(u,{variant:c===l?"default":"outline",size:"sm",onClick:()=>v(l),className:"w-10",children:l},l)})}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>v(c+1),disabled:c===y,children:"Sonraki â†’"}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>v(y),disabled:c===y,title:"Son sayfaya git",children:"Son â­"})]})]})]})]}),e.jsx(we,{open:H,onOpenChange:E,children:e.jsxs(Ie,{className:"max-w-2xl",children:[e.jsxs(ze,{children:[e.jsx(Pe,{children:"Excel'den ÃœrÃ¼n YÃ¼kle"}),e.jsx(Le,{children:"Excel dosyanÄ±zÄ± seÃ§in ve Ã¼rÃ¼nleri sisteme yÃ¼kleyin"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[e.jsx("input",{ref:$,type:"file",accept:".xlsx,.xls",onChange:xe,className:"hidden",id:"excel-upload",disabled:R}),e.jsxs("label",{htmlFor:"excel-upload",className:`cursor-pointer ${R?"opacity-50":""}`,children:[e.jsx(de,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Excel dosyasÄ± seÃ§mek iÃ§in tÄ±klayÄ±n"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:".xlsx veya .xls formatÄ±nda olmalÄ±"})]})]}),R&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(Be,{value:X}),e.jsxs("p",{className:"text-sm text-gray-600 text-center",children:["Ä°ÅŸleniyor... %",X]})]}),D&&e.jsxs("div",{className:"space-y-3",children:[D.success>0&&e.jsxs(ae,{children:[e.jsx(G,{className:"h-4 w-4"}),e.jsxs(le,{children:["âœ… ",D.success," Ã¼rÃ¼n baÅŸarÄ±yla yÃ¼klendi"]})]}),D.failed>0&&e.jsxs(ae,{variant:"destructive",children:[e.jsx(re,{className:"h-4 w-4"}),e.jsx(le,{children:e.jsxs("div",{children:[e.jsxs("p",{className:"mb-2",children:["âŒ ",D.failed," satÄ±rda hata oluÅŸtu:"]}),e.jsx("ul",{className:"text-xs space-y-1 max-h-40 overflow-y-auto",children:D.errors.map((s,a)=>e.jsxs("li",{children:["â€¢ ",s]},a))})]})})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-blue-800",children:e.jsx("strong",{children:"ğŸ“‹ Excel Format Bilgisi:"})}),e.jsxs("ul",{className:"text-xs text-blue-700 mt-2 space-y-1",children:[e.jsx("li",{children:"â€¢ Zorunlu alanlar: Serial number, Name, TID"}),e.jsx("li",{children:"â€¢ Ä°steÄŸe baÄŸlÄ± alanlar: DOMAIN 1-5, Firmware, SAM 1-3, SIM, vb."}),e.jsx("li",{children:"â€¢ Åablon dosyasÄ±nÄ± kullanmanÄ±zÄ± Ã¶neririz"})]})]})]}),e.jsx(Ee,{children:e.jsx(u,{variant:"outline",onClick:()=>E(!1),children:"Kapat"})})]})})]})}const is=Fe.memo(function({payterProducts:I=[],onPayterProductsChange:M=()=>{},customers:k=[]}){const[B,H]=d.useState("payter");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"ÃœrÃ¼n YÃ¶netimi"}),e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"ÃœrÃ¼n modÃ¼lleri ve yÃ¶netim araÃ§larÄ±"})]}),e.jsxs(Oe,{value:B,onValueChange:H,className:"space-y-6",children:[e.jsxs(Ve,{className:"grid w-full grid-cols-2 max-w-md",children:[e.jsxs(ie,{value:"payter",className:"flex items-center gap-2",children:[e.jsx(Ye,{size:16}),"Payter"]}),e.jsxs(ie,{value:"diger",className:"flex items-center gap-2",children:[e.jsx(te,{size:16}),"DiÄŸer ÃœrÃ¼nler"]})]}),e.jsx(ne,{value:"payter",className:"space-y-6",children:e.jsx(Ke,{products:I,onProductsChange:M,customers:k})}),e.jsx(ne,{value:"diger",className:"space-y-6",children:e.jsxs(g,{children:[e.jsxs(P,{children:[e.jsx(L,{children:"DiÄŸer ÃœrÃ¼nler"}),e.jsx(K,{children:"Genel Ã¼rÃ¼n yÃ¶netimi ve tanÄ±mlamalarÄ±"})]}),e.jsx(f,{children:e.jsx("div",{className:"bg-white rounded-lg border-2 border-dashed border-gray-300 p-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full mx-auto flex items-center justify-center",children:e.jsx(te,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-gray-900",children:"ÃœrÃ¼n ModÃ¼lÃ¼"}),e.jsx("p",{className:"text-gray-500",children:"Bu alan genel Ã¼rÃ¼n yÃ¶netimi iÃ§in ayrÄ±lmÄ±ÅŸtÄ±r. YakÄ±nda eklenecektir."})]})})})]})})]})]})});export{is as ProductModule};
